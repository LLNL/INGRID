# ---------------------------------------------------
# User data directories
# ---------------------------------------------------
dir_settings:
  eqdsk: /Users/bryan-garcia/workspace/data/erd-2015/extended-gridues/  # dir containing eqdsk
  limiter: /Users/bryan-garcia/workspace/data/erd-2015/extended-gridues/  # dir containing limiter
  patch_data: ../data/SNL/DIII-D/  # dir containing patch data
  target_plates: ../data/SNL/DIII-D/ # dir containing target plates

# ---------------------------------------------------
# eqdsk file name
# ---------------------------------------------------
#eqdsk: g176345.02000
eqdsk: g201108.02000

DEBUG:
  verbose:
    grid_generation: 0
    patch_generation: 1
    target_plates: 0
  visual:
    find_NSEW: 0
    gridue: 0
    patch_map: 0
    subgrid: 0

# ---------------------------------------------------
# General grid settings
# ---------------------------------------------------
grid_settings:
  # ----------------------------------------------------------------------------
  # Settings for grid generation (num cells, transforms, skewness_correction)
  # ----------------------------------------------------------------------------
  grid_generation:
    skewness_correction:
      all:
        active: True # true, 1 also valid.
        resolution: 1000
        theta_max: 140.0
        theta_min: 80.0
      F2:
        active: False
    np_default: 10
    nr_default: 3
    nr_2: 4
    nr_3: 2
    nr_4: 5
    np_D: 4
    np_E: 6
    np_F: 15
    np_G: 15
    np_H: 12
    poloidal_f_default: x, x
    radial_f_default: x, x
  # ---------------------------------------------------
  # guard cell size
  # ---------------------------------------------------
  guard_cell_eps: 0.001
  # ---------------------------------------------------
  # num levels in efit plot
  # ---------------------------------------------------
  nlevs: 125
  r_extrapolation: 0.01
  z_extrapolation: 0.0
  # ---------------------------------------------------
  # num xpts
  # ---------------------------------------------------
  num_xpt: 2
  patch_generation:
    strike_pt_loc: limiter # 'limiter' or 'target_plates'
    rmagx_shift: 0.0
    zmagx_shift: 0.0
    xpt1_E_tilt: 0.0
    xpt1_W_tilt: -0.9
    xpt2_E_tilt: -1.85
    xpt2_W_tilt: -2.6
    use_xpt1_E: true
    use_xpt1_W: true
    use_xpt2_E: true
    use_xpt2_W: true
  # ---------------------------------------------------
  # Psi levels
  # ---------------------------------------------------
  #psi_1: 1.28
  psi_LFS: 1.5
  psi_2: 1.22
  #psi_HFS: 1.195
  psi_1: 1.195
  psi_HFS: 1.260
  psi_core: 0.95
  psi_pf_1: 0.85
  psi_pf_2: 1.1769
  # ---------------------------------------------------
  # magx coordinates
  # ---------------------------------------------------
  rmagx: 1.75785604
  zmagx: -0.0292478683
  # ---------------------------------------------------
  # xpt coordinates
  # ---------------------------------------------------
  rxpt: 1.34094032687
  zxpt: -1.063159375302

  rxpt2: 1.14
  zxpt2: 1.19
  #rxpt2: 0.99
  #zxpt2: 1.34
  # ---------------------------------------------------
  # Filled contours vs contour lines
  # ---------------------------------------------------
  view_mode: filled

# ---------------------------------------------------
# Saved patch settings
# ---------------------------------------------------
patch_data:
  file: LSN_patches_1597099640.npy
  preferences:
    new_file: true
    new_fname: LSN_patches_1597099640.npy
  use_file: false

# ---------------------------------------------------
# Integrator
# ---------------------------------------------------
integrator_settings:
  dt: 0.01
  eps: 5.0e-06
  first_step: 5.0e-05
  max_step: 0.064
  step_ratio: 0.02
  tol: 0.005

# ---------------------------------------------------
# Limiter settings
# ---------------------------------------------------
limiter:
  file: ''
  use_efit_bounds: false
  rshift: -0.03
  zshift: 0.0

virtual:
  file: '/Users/bryan-garcia/workspace/repos/INGRID.git/worktrees/extended-snl/data/SNL/DIII-D/virtual_boundary.txt'

# ---------------------------------------------------
# target plate settings
# ---------------------------------------------------
# target_plates:
#   plate_E1:
#     file: d3d_otp.txt
#     zshift: -1.6
#   plate_W1:
#     file: d3d_itp.txt
#     zshift: -1.6
